!function($){"use strict";function Gumby(){this.$dom=$(document),this.$html=this.$dom.find("html"),this.isOldie=!!this.$html.hasClass("oldie"),this.click="click",this.onReady=this.onOldie=this.onTouch=!1,this.autoInit="false"===$("script[gumby-init]").attr("gumby-init")?!1:!0,this.debugMode=Boolean($("script[gumby-debug]").length),this.touchDevice=!!(Modernizr.touch||window.navigator.userAgent.indexOf("Windows Phone")>0),this.gumbyTouch=!1,this.touchEvents="js/libs",this.breakpoint=Number($("script[gumby-breakpoint]").attr("gumby-breakpoint"))||768,this.touchEventsLoaded=!1,this.uiModulesReady=!1,this.uiModules={},this.inits={};var touch=$("script[gumby-touch]").attr("gumby-touch"),path=$("script[gumby-path]").attr("gumby-path");"false"===touch?this.touchEvents=!1:touch?this.touchEvents=touch:path&&(this.touchEvents=path),this.touchDevice&&(this.click+=" tap"),this.touchDevice&&$(window).width()<this.breakpoint?(this.$html.addClass("gumby-touch"),this.gumbyTouch=!0):this.$html.addClass("gumby-no-touch"),this.debugMode&&this.debug("Gumby is in debug mode")}Gumby.prototype.init=function(options){var scope=this,opts=options?options:{};return this.$dom.ready(function(){opts.debug&&(scope.debugMode=!0),scope.debug("Initializing Gumby");var mods=opts.uiModules?opts.uiModules:!1;scope.initUIModules(mods),scope.onReady&&scope.onReady(),scope.isOldie&&scope.onOldie&&scope.onOldie(),Modernizr.touch&&scope.onTouch&&scope.onTouch()}),this},Gumby.prototype.helpers=function(){this.onReady&&this.onReady(),this.isOldie&&this.onOldie&&this.onOldie(),Modernizr.touch&&this.onTouch&&this.onTouch()},Gumby.prototype.ready=function(code){return code&&"function"==typeof code&&(this.onReady=code),this},Gumby.prototype.oldie=function(code){return code&&"function"==typeof code&&(this.onOldie=code),this},Gumby.prototype.touch=function(code){return code&&"function"==typeof code&&(this.onTouch=code),this},Gumby.prototype.console=function(type,data){this.debugMode&&window.console&&console[console[type]?type:"log"](data.length>1?Array.prototype.slice.call(data):data[0])},Gumby.prototype.log=function(){this.console("log",arguments)},Gumby.prototype.debug=function(){this.console("debug",arguments)},Gumby.prototype.warn=function(){this.console("warn",arguments)},Gumby.prototype.error=function(){this.console("error",arguments)},Gumby.prototype.dump=function(){return{$dom:this.$dom,isOldie:this.isOldie,touchEvents:this.touchEvents,debugMode:this.debugMode,autoInit:this.autoInit,uiModules:this.uiModules,click:this.click}},Gumby.prototype.selectAttr=function(){for(var i=0;i<arguments.length;i++){var attr=arguments[i],dataAttr="data-"+arguments[i],gumbyAttr="gumby-"+arguments[i];if(this.is("["+dataAttr+"]"))return this.attr(dataAttr)?this.attr(dataAttr):!0;if(this.is("["+gumbyAttr+"]"))return this.attr(gumbyAttr)?this.attr(gumbyAttr):!0;if(this.is("["+attr+"]"))return this.attr(attr)?this.attr(attr):!0}return!1},Gumby.prototype.addInitalisation=function(ref,code){this.inits[ref]=code},Gumby.prototype.initialize=function(ref,all){if("object"==typeof ref){var i=0;for(i;i<ref.length;i++)this.inits[ref[i]]&&"function"==typeof this.inits[ref[i]]?this.inits[ref[i]](all):this.error("Error initializing module: "+ref[i])}else this.inits[ref]&&"function"==typeof this.inits[ref]?this.inits[ref](all):this.error("Error initializing module: "+ref);return this},Gumby.prototype.UIModule=function(data){var module=data.module;this.uiModules[module]=data},Gumby.prototype.initUIModules=function(mods){var x,m,arr=this.uiModules;mods&&(arr=mods);for(x in arr)m=mods?arr[x]:x,this.uiModules[m].init()},window.Gumby=new Gumby}(jQuery),function(f,h,$){function g(m){var l={},n=/^jQuery\d+$/;return $.each(m.attributes,function(p,o){o.specified&&!n.test(o.name)&&(l[o.name]=o.value)}),l}function b(m,n){var l=this,o=$(l);if(l.value==o.attr("placeholder")&&o.hasClass("placeholder"))if(o.data("placeholder-password")){if(o=o.hide().next().show().attr("id",o.removeAttr("id").data("placeholder-id")),m===!0)return o[0].value=n;o.focus()}else l.value="",o.removeClass("placeholder"),l==h.activeElement&&l.select()}function e(){var q,l=this,p=$(l),o=this.id;if(""==l.value){if("password"==l.type){if(!p.data("placeholder-textinput")){try{q=p.clone().attr({type:"text"})}catch(n){q=$("<input>").attr($.extend(g(this),{type:"text"}))}q.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":o}).bind("focus.placeholder",b),p.data({"placeholder-textinput":q,"placeholder-id":o}).before(q)}p=p.removeAttr("id").hide().prev().attr("id",o).show()}p.addClass("placeholder"),p[0].value=p.attr("placeholder")}else p.removeClass("placeholder")}var k,j,a="placeholder"in h.createElement("input"),d="placeholder"in h.createElement("textarea"),i=$.fn,c=$.valHooks;a&&d?(j=i.placeholder=function(){return this},j.input=j.textarea=!0):(j=i.placeholder=function(){var l=this;return l.filter((a?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":b,"blur.placeholder":e}).data("placeholder-enabled",!0).trigger("blur.placeholder"),l},j.input=a,j.textarea=d,k={get:function(m){var l=$(m);return l.data("placeholder-enabled")&&l.hasClass("placeholder")?"":m.value},set:function(m,n){var l=$(m);return l.data("placeholder-enabled")?(""==n?(m.value=n,m!=h.activeElement&&e.call(m)):l.hasClass("placeholder")?b.call(m,!0,n)||(m.value=n):m.value=n,l):m.value=n}},a||(c.input=k),d||(c.textarea=k),$(function(){$(h).delegate("form","submit.placeholder",function(){var l=$(".placeholder",this).each(b);setTimeout(function(){l.each(e)},10)})}),$(f).bind("beforeunload.placeholder",function(){$(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),!function($){"use strict";function Retina($el){Gumby.debug("Initializing Retina",$el),this.$el=$el,this.imageSrc=this.$el.attr("src"),this.retinaSrc=this.fetchRetinaImage(),this.$retinaImg=$(new Image);var scope=this;return this.retinaSrc?(this.$retinaImg.attr("src",this.retinaSrc).load(function(){scope.retinaImageLoaded()}).error(function(){Gumby.error("Couln't load retina image: "+scope.retinaSrc)}),void 0):!1}Retina.prototype.fetchRetinaImage=function(){var imgSrc=this.imageSrc,index=this.imageSrc.search(/(\.|\/)(gif|jpe?g|png)$/i);return 0>index?!1:imgSrc.substr(0,index)+"@2x"+imgSrc.substr(index,imgSrc.length)},Retina.prototype.retinaImageLoaded=function(){Gumby.debug("Swapping image for retina version",this.$el),Gumby.debug("Triggering onRetina event",this.$el),this.$el.attr("src",this.$retinaImg.attr("src")).trigger("gumby.onRetina")},Gumby.addInitalisation("retina",function(){!window.devicePixelRatio||window.devicePixelRatio<=1||$("img[data-retina],img[gumby-retina],img[retina]").each(function(){var $this=$(this);return $this.data("isRetina")?!0:($this.data("isRetina",!0),new Retina($this),void 0)})}),Gumby.UIModule({module:"retina",events:["onRetina"],init:function(){Gumby.initialize("retina")}})}(jQuery),!function($){"use strict";function Fixed($el){Gumby.debug("Initializing Fixed Position",$el),this.$el=$el,this.fixedPoint="",this.pinPoint=!1,this.offset=0,this.pinOffset=0,this.top=0,this.constrainEl=!0,this.state=!1,this.measurements={left:0,width:0},this.setup();var scope=this;$(window).on("scroll load",function(){scope.monitorScroll()}),this.$el.on("gumby.initialize",function(){Gumby.debug("Re-initializing Fixed Position",$el),scope.setup(),scope.monitorScroll()})}Fixed.prototype.setup=function(){var scope=this;this.fixedPoint=this.parseAttrValue(Gumby.selectAttr.apply(this.$el,["fixed"])),this.pinPoint=Gumby.selectAttr.apply(this.$el,["pin"])||!1,this.offset=Number(Gumby.selectAttr.apply(this.$el,["offset"]))||0,this.pinOffset=Number(Gumby.selectAttr.apply(this.$el,["pinoffset"]))||0,this.top=Number(Gumby.selectAttr.apply(this.$el,["top"]))||0,this.constrainEl=Gumby.selectAttr.apply(this.$el,["constrain"])||!0,"false"===this.constrainEl&&(this.constrainEl=!1),this.$parent=this.$el.parents(".columns, .column, .row"),this.$parent=this.$parent.length?this.$parent.first():!1,this.parentRow=this.$parent?!!this.$parent.hasClass("row"):!1,this.pinPoint&&(this.pinPoint=this.parseAttrValue(this.pinPoint)),this.$parent&&this.constrainEl&&(this.measure(),$(window).resize(function(){scope.state&&(scope.measure(),scope.constrain())}))},Fixed.prototype.monitorScroll=function(){var scrollAmount=$(window).scrollTop(),fixedPoint=this.fixedPoint instanceof jQuery?this.fixedPoint.offset().top:this.fixedPoint,pinPoint=!1;this.pinPoint&&(pinPoint=this.pinPoint instanceof jQuery?this.pinPoint.offset().top:this.pinPoint),this.offset&&(fixedPoint-=this.offset),this.pinOffset&&(pinPoint-=this.pinOffset),scrollAmount>=fixedPoint&&"fixed"!==this.state?(!pinPoint||pinPoint>scrollAmount)&&this.fix():fixedPoint>scrollAmount&&"fixed"===this.state?this.unfix():pinPoint&&scrollAmount>=pinPoint&&"pinned"!==this.state&&this.pin()},Fixed.prototype.fix=function(){Gumby.debug("Element has been fixed",this.$el),Gumby.debug("Triggering onFixed event",this.$el),this.state="fixed",this.$el.css({top:0+this.top}).addClass("fixed").removeClass("unfixed pinned").trigger("gumby.onFixed"),this.$parent&&this.constrain()},Fixed.prototype.unfix=function(){Gumby.debug("Element has been unfixed",this.$el),Gumby.debug("Triggering onUnfixed event",this.$el),this.state="unfixed",this.$el.addClass("unfixed").removeClass("fixed pinned").trigger("gumby.onUnfixed")},Fixed.prototype.pin=function(){Gumby.debug("Element has been pinned",this.$el),Gumby.debug("Triggering onPinned event",this.$el),this.state="pinned",this.$el.css({top:this.$el.offset().top}).addClass("pinned fixed").removeClass("unfixed").trigger("gumby.onPinned")},Fixed.prototype.constrain=function(){Gumby.debug("Constraining element",this.$el),this.$el.css({left:this.measurements.left,width:this.measurements.width})},Fixed.prototype.measure=function(){var parentPadding,offsets=this.$parent.offset();this.measurements.left=offsets.left,this.measurements.width=this.$parent.width(),this.parentRow&&(parentPadding=Number(this.$parent.css("paddingLeft").replace(/px/,"")),parentPadding&&(this.measurements.left+=parentPadding))},Fixed.prototype.parseAttrValue=function(attr){if($.isNumeric(attr))return Number(attr);if("top"===attr)return this.$el.offset().top;var $el=$(attr);return $el.length?$el:(Gumby.error("Cannot find Fixed target: "+attr),!1)},Gumby.addInitalisation("fixed",function(all){$("[data-fixed],[gumby-fixed],[fixed]").each(function(){var $this=$(this);return $this.data("isFixed")&&!all?!0:$this.data("isFixed")&&all?($this.trigger("gumby.initialize"),!0):($this.data("isFixed",!0),new Fixed($this),void 0)})}),Gumby.UIModule({module:"fixed",events:["initialize","onFixed","onUnfixed"],init:function(){Gumby.initialize("fixed")}})}(jQuery),!function($){"use strict";function SkipLink($el){Gumby.debug("Initializing Skiplink",$el),this.$el=$el,this.targetPos=0,this.duration=0,this.offset=!1,this.easing="",this.update=!1,this.setup();var scope=this;this.$el.on(Gumby.click+" gumby.skip",function(e){e.preventDefault(),"skip"===e.namespace&&Gumby.debug("Skip event triggered",scope.$el),scope.update?scope.calculateTarget(scope.skipTo):scope.skipTo()}).on("gumby.initialize",function(){Gumby.debug("Re-initializing Skiplink",scope.$el),scope.setup()})}SkipLink.prototype.setup=function(){this.duration=Number(Gumby.selectAttr.apply(this.$el,["duration"]))||200,this.offset=Gumby.selectAttr.apply(this.$el,["offset"])||!1,this.easing=Gumby.selectAttr.apply(this.$el,["easing"])||"swing",this.update=Gumby.selectAttr.apply(this.$el,["update"])?!0:!1,this.calculateTarget()},SkipLink.prototype.calculateTarget=function(cb){var $target,target=Gumby.selectAttr.apply(this.$el,["goto"]);if("top"==target)this.targetPos=0;else if($.isNumeric(target))this.targetPos=Number(target);else{if($target=$(target),!$target.length)return Gumby.error("Cannot find skiplink target: "+target),!1;this.targetPos=$target.offset().top}cb&&cb.apply(this)},SkipLink.prototype.skipTo=function(){Gumby.debug("Skipping to target",this.$el);var scope=this;$("html,body").animate({scrollTop:this.calculateOffset()},this.duration,this.easing).promise().done(function(){Gumby.debug("Triggering onComplete event",scope.$el),scope.$el.trigger("gumby.onComplete")})},SkipLink.prototype.calculateOffset=function(){if(!this.offset)return this.targetPos;var op=this.offset.substr(0,1),off=Number(this.offset.substr(1,this.offset.length));return"-"===op?this.targetPos-off:"+"===op?this.targetPos+off:void 0},Gumby.addInitalisation("skiplink",function(all){$(".skiplink > a, .skip").each(function(){var $this=$(this);return $this.data("isSkipLink")&&!all?!0:$this.data("isSkipLink")&&all?($this.trigger("gumby.initialize"),!0):($this.data("isSkipLink",!0),new SkipLink($this),void 0)})}),Gumby.UIModule({module:"skiplink",events:["initialize","onComplete","skip"],init:function(){Gumby.initialize("skiplink")}})}(jQuery),!function($){"use strict";function Toggle($el){this.$el=$($el),this.targets=[],this.on="",this.className="",this.self=!1,this.$el.length&&(Gumby.debug("Initializing Toggle",$el),this.init())}function Switch($el){this.$el=$($el),this.targets=[],this.on="",this.className="",this.self=!1,this.$el.length&&(Gumby.debug("Initializing Switch",$el),this.init())}Toggle.prototype.init=function(){var scope=this;this.setup(),this.$el.on(this.on,function(e){e.preventDefault(),scope.trigger(scope.triggered)}).on("gumby.trigger",function(){Gumby.debug("Trigger event triggered",scope.$el),scope.trigger(scope.triggered)}).on("gumby.initialize",function(){Gumby.debug("Re-initializing "+scope.constructor,$el),scope.setup()})},Toggle.prototype.setup=function(){this.targets=this.parseTargets(),this.on=Gumby.selectAttr.apply(this.$el,["on"])||Gumby.click,this.className=Gumby.selectAttr.apply(this.$el,["classname"])||"active",this.self="false"===Gumby.selectAttr.apply(this.$el,["self"])},Toggle.prototype.parseTargets=function(){var targetStr=Gumby.selectAttr.apply(this.$el,["trigger"]),secondaryTargets=0,targets=[];return targetStr?(secondaryTargets=targetStr.indexOf("|"),-1===secondaryTargets?this.checkTargets([targetStr])?[$(targetStr)]:!1:(targets=targetStr.split("|"),this.checkTargets(targets)?targets.length>1?[$(targets[0]),$(targets[1])]:[$(targets[0])]:!1)):!1},Toggle.prototype.checkTargets=function(targets){var i=0;for(i;i<targets.length;i++)if(targets[i]&&!$(targets[i]).length)return Gumby.error("Cannot find "+this.constructor.name+" target: "+targets[i]),!1;return!0},Toggle.prototype.triggered=function(){Gumby.debug("Triggering onTrigger event",this.$el),this.$el.trigger("gumby.onTrigger",[this.$el.hasClass(this.className)])},Switch.prototype=new Toggle,Switch.prototype.constructor=Switch,Toggle.prototype.trigger=function(cb){Gumby.debug("Triggering Toggle",this.$el);var $target;this.targets?1==this.targets.length?this.$el.add(this.targets[0]).toggleClass(this.className):this.targets.length>1&&(this.targets[0].hasClass(this.className)?($target=this.targets[0],this.self||($target=$target.add(this.$el)),$target.removeClass(this.className),this.targets[1].addClass(this.className)):($target=this.targets[0],this.self||($target=$target.add(this.$el)),$target.addClass(this.className),this.targets[1].removeClass(this.className))):this.$el.toggleClass(this.className),cb&&"function"==typeof cb&&cb.apply(this)},Switch.prototype.trigger=function(cb){Gumby.debug("Triggering Switch",this.$el);var $target;this.targets?1==this.targets.length?($target=this.targets[0],this.self||($target=$target.add(this.$el)),$target.addClass(this.className)):this.targets.length>1&&($target=this.targets[0],this.self||($target=$target.add(this.$el)),$target.addClass(this.className),this.targets[1].removeClass(this.className)):this.$el.addClass(this.className),cb&&"function"==typeof cb&&cb.apply(this)},Gumby.addInitalisation("toggles",function(all){$(".toggle").each(function(){var $this=$(this);return $this.data("isToggle")&&!all?!0:($this.data("isToggle")&&all&&$this.trigger("gumby.initialize"),$this.data("isToggle",!0),new Toggle($this),void 0)})}),Gumby.addInitalisation("switches",function(all){$(".switch").each(function(){var $this=$(this);return $this.data("isSwitch")&&!all?!0:$this.data("isSwitch")&&all?($this.trigger("gumby.initialize"),!0):($this.data("isSwitch",!0),new Switch($this),void 0)})}),Gumby.UIModule({module:"toggleswitch",events:["initialize","trigger","onTrigger"],init:function(){Gumby.initialize("switches"),Gumby.initialize("toggles")}})}(jQuery),!function($){"use strict";function Checkbox($el){Gumby.debug("Initializing Checkbox",$el),this.$el=$el,this.$input=this.$el.find("input[type=checkbox]");var scope=this;this.$el.on(Gumby.click,function(e){e.preventDefault(),scope.$input.is("[disabled]")||(scope.$el.hasClass("checked")?scope.update(!1):scope.update(!0))}).on("gumby.check",function(){Gumby.debug("Check event triggered",scope.$el),scope.update(!0)}).on("gumby.uncheck",function(){Gumby.debug("Uncheck event triggered",scope.$el),scope.update(!1)}),(this.$input.prop("checked")||this.$el.hasClass("checked"))&&scope.update(!0)}Checkbox.prototype.update=function(check){var $span=this.$el.find("span");check?(Gumby.debug("Checking Checkbox",this.$el),$span.append('<i class="icon-check" />'),this.$input.prop("checked",!0),Gumby.debug("Triggering onCheck event",this.$el),Gumby.debug("Triggering onChange event",this.$el),this.$el.addClass("checked").trigger("gumby.onCheck").trigger("gumby.onChange")):(Gumby.debug("Unchecking Checkbox",this.$el),this.$input.prop("checked",!1),$span.find("i").remove(),Gumby.debug("Triggering onUncheck event",this.$el),Gumby.debug("Triggering onChange event",this.$el),this.$el.removeClass("checked").trigger("gumby.onUncheck").trigger("gumby.onChange"))},Gumby.addInitalisation("checkbox",function(){$(".checkbox").each(function(){var $this=$(this);return $this.data("isCheckbox")?!0:($this.data("isCheckbox",!0),new Checkbox($this),void 0)})}),Gumby.UIModule({module:"checkbox",events:["onCheck","onUncheck","onChange","check","uncheck"],init:function(){Gumby.initialize("checkbox")}})}(jQuery),!function($){"use strict";function RadioBtn($el){Gumby.debug("Initializing Radio Button",$el),this.$el=$el,this.$input=this.$el.find("input[type=radio]");var scope=this;this.$el.on(Gumby.click,function(e){e.preventDefault(),scope.$input.is("[disabled]")||scope.update()}).on("gumby.check",function(){Gumby.debug("Check event triggered",scope.$el),scope.update()}),(this.$input.prop("checked")||this.$el.hasClass("checked"))&&scope.update(!0)}RadioBtn.prototype.update=function(){if(!(this.$el.hasClass("checked")&&this.$input.prop("checked")&&this.$el.find("i.icon-dot").length)){Gumby.debug("Updating Radio Button group",this.$el);var $span=this.$el.find("span"),group='input[name="'+this.$input.attr("name")+'"]';$(".radio").has(group).removeClass("checked").find("input").prop("checked",!1).end().find("i").remove(),this.$input.prop("checked",!0),$span.append('<i class="icon-dot" />'),Gumby.debug("Triggering onCheck event",this.$el),this.$el.addClass("checked").trigger("gumby.onCheck")}},Gumby.addInitalisation("radiobtn",function(){$(".radio").each(function(){var $this=$(this);return $this.data("isRadioBtn")?!0:($this.data("isRadioBtn",!0),new RadioBtn($this),void 0)})}),Gumby.UIModule({module:"radiobtn",events:["onCheck","check"],init:function(){Gumby.initialize("radiobtn")}})}(jQuery),!function($){"use strict";function Tabs($el){Gumby.debug("Initializing Tabs",$el),this.$el=$el,this.$nav=this.$el.find("ul.tab-nav > li"),this.$content=this.$el.find(".tab-content");var scope=this;this.$nav.children("a").on(Gumby.click,function(e){e.preventDefault(),scope.click($(this))}),this.$el.on("gumby.set",function(e,index){Gumby.debug("Set event triggered",scope.$el),scope.set(e,index)})}Tabs.prototype.click=function($this){var index=$this.parent().index();this.$nav.eq(index).add(this.$content.eq(index)).hasClass("active")||(Gumby.debug("Setting active tab to "+index,this.$el),this.$nav.add(this.$content).removeClass("active"),this.$nav.eq(index).add(this.$content.eq(index)).addClass("active"),Gumby.debug("Triggering onChange event",this.$el),this.$el.trigger("gumby.onChange",index))},Tabs.prototype.set=function(e,index){this.$nav.eq(index).find("a").trigger(Gumby.click)},Gumby.addInitalisation("tabs",function(){$(".tabs").each(function(){var $this=$(this);return $this.data("isTabs")?!0:($this.data("isTabs",!0),new Tabs($this),void 0)})}),Gumby.UIModule({module:"tabs",events:["onChange","set"],init:function(){Gumby.initialize("tabs")}})}(jQuery),!function($){"use strict";function Navbar($el){Gumby.debug("Initializing Navbar",$el),this.$el=$el,this.$dropDowns=this.$el.find("li:has(.dropdown)");this.$dropDowns.on(Gumby.click,this.toggleDropdown).on("swiperight",this.openLink),"#"!==this.$dropDowns.children("a").attr("href")&&this.$dropDowns.children("a").append('<i class="icon-popup"></i>').children("i").on(Gumby.click,this.openLink),this.$dropDowns.find(".dropdown li:not(:has(.dropdown)) a[href]").on(Gumby.click,this.openLink)}Gumby.gumbyTouch&&(Navbar.prototype.toggleDropdown=function(e){e.preventDefault();var $this=$(this);$this.hasClass("active")?$this.removeClass("active"):$this.addClass("active")},Navbar.prototype.openLink=function(e){e.preventDefault();var href,$this=$(this),$el=$this;$this.is("i")?$el=$this.parent("a"):$this.is("li")&&($el=$this.children("a")),href=$el.attr("href"),"blank"==$el.attr("target")?window.open(href):window.location=href},Gumby.addInitalisation("navbar",function(){$(".navbar").each(function(){var $this=$(this);return $this.data("isNavbar")?!0:($this.data("isNavbar",!0),new Navbar($this),void 0)})}),Gumby.UIModule({module:"navbar",events:[],init:function(){Gumby.initialize("navbar")}}))}(jQuery),!function($){"use strict";function Validation($this,req){Gumby&&Gumby.debug("Initializing Validation",$this),this.$this=$this,this.$field=this.$this.parents(".field"),this.req=req||function(){return!!this.$this.val().length};var scope=this;this.$this.is("[type=checkbox], [type=radio]")?(this.$field=this.$this.parent("label"),this.$field.on("gumby.onChange",function(){scope.validate()})):this.$this.is("select")?(this.$field=this.$this.parents(".picker"),this.$field.on("change",function(){scope.validate()})):this.$this.on("blur",function(e){9!==e.which&&scope.validate()})}Validation.prototype.validate=function(){var result=this.req(this.$this);return result?this.$field.removeClass("danger").addClass("success"):this.$field.removeClass("success").addClass("danger"),result},$.fn.validation=function(options){var settings=$.extend({submit:!1,fail:!1,required:[]},options),validations=[];return this.each(function(){if(!settings.required.length)return!1;var i,$this=$(this),reqLength=settings.required.length;for(i=0;reqLength>i;i++)validations.push(new Validation($this.find('[name="'+settings.required[i].name+'"]'),settings.required[i].validate||!1));$this.on("submit",function(e){var failed=!1;if(!$this.data("passed")){e.preventDefault();var i,reqLength=validations.length;for(i=0;reqLength>i;i++)validations[i].validate()||(failed=!0);if(failed){if(settings.fail&&"function"==typeof settings.fail)return settings.fail(),void 0}else{if(settings.submit&&"function"==typeof settings.submit)return settings.submit($this.serializeArray()),void 0;$this.data("passed",!0).submit()}}})})}}(jQuery),function($){"use strict";function Images($el){Gumby.debug("Initializing Responsive Images module",$el),this.$el=$el,this.type="",this.supports="",this.media="",this.def="",this.current="",this.setup();var scope=this;$(window).on("load gumby.trigger "+(!this.media||"resize"),function(){scope.fire()}),this.$el.on("gumby.initialize",function(){Gumby.debug("Re-initializing Responsive Images module",scope.$el),scope.setup(),scope.fire()}),scope.fire()}Images.prototype.setup=function(){this.type=this.$el.is("img")?"img":"bg",this.supports=Gumby.selectAttr.apply(this.$el,["supports"])||!1,this.media=Gumby.selectAttr.apply(this.$el,["media"])||!1,this.def=Gumby.selectAttr.apply(this.$el,["default"])||!1,this.supports&&(this.supports=this.parseAttr(this.supports)),this.media&&(this.media=this.parseAttr(this.media)),this.checks={supports:function(val){return Modernizr[val]},media:function(val){return window.matchMedia(val).matches}}},Images.prototype.fire=function(){var success=!1;return this.supports&&Modernizr&&(success=this.handleTests("supports",this.supports)),this.media&&window.matchMedia&&!success&&(success=this.handleTests("media",this.media)),!success&&this.def&&(success=this.def),success?(this.current!==success&&(this.current=success,this.insertImage(this.type,success)),void 0):(Gumby.warn("No responsive images tests passed",this.$el),!1)},Images.prototype.handleTests=function(type,array){var scope=this,supported=!1;return $(array).each(function(key,val){return scope.check(type,val.test)?(supported=val.img,!1):void 0}),supported},Images.prototype.check=function(type,val){return this.checks[type](val)},Images.prototype.insertImage=function(type,img){var scope=this,image=$(new Image);image.load(function(){"img"===type?scope.$el.attr("src",img):scope.$el.css("background-image","url("+img+")"),Gumby.debug("Triggering onChange event",img,scope.$el),scope.$el.trigger("gumby.onChange",[img])}).attr("src",img)},Images.prototype.parseAttr=function(support){var supp=support.split(","),res=[],splt=[];return $(supp).each(function(key,val){return splt=val.split("|"),2!==splt.length?!0:(res.push({test:splt[0],img:splt[1]}),void 0)}),res},Gumby.addInitalisation("images",function(all){$("[gumby-supports],[data-supports],[supports],[gumby-media],[data-media],[media]").each(function(){var $this=$(this);return $this.data("isImage")&&!all?!0:$this.data("isImage")&&all?($this.trigger("gumby.initialize"),!0):($this.data("isImage",!0),new Images($this),void 0)})}),Gumby.UIModule({module:"images",events:["onChange","trigger"],init:function(){Gumby.initialize("images")}})}(jQuery),!function($){"use strict";Gumby.touchDevice&&Gumby.touchEvents||!Gumby.autoInit?Gumby.touchEvents&&Gumby.touchDevice&&(Gumby.debug("Loading jQuery mobile touch events"),yepnope.errorTimeout=2e3,Modernizr.load({test:Modernizr.touch,yep:Gumby.touchEvents+"/jquery.mobile.custom.min.js",complete:function(){$.mobile||Gumby.error("Error loading jQuery mobile touch events"),Gumby.touchEventsLoaded=!0,Gumby.autoInit?window.Gumby.init():Gumby.uiModulesReady&&Gumby.helpers()}})):window.Gumby.init(),"function"==typeof define&&define.amd&&define(window.Gumby)}(jQuery);
//# sourceMappingURL=plugins.js.map